(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{478:function(t,e,a){"use strict";a.r(e);var s=a(2),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[t._v("#")]),t._v(" 环境")]),t._v(" "),e("h2",{attrs:{id:"ch库环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ch库环境"}},[t._v("#")]),t._v(" CH库环境")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\n172.16.9.195:30880\nadmin\nP@88w0rd\n")])])]),e("h2",{attrs:{id:"taf-k8s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#taf-k8s"}},[t._v("#")]),t._v(" TAF K8S")]),t._v(" "),e("p",[t._v("taf-test -> http://taf.test.whup.com:8080\ntaf-dev -> http://dev.test.whup.com:8080")]),t._v(" "),e("p",[t._v("k8s：\ntaf-test: namespace taf-test\ntaf-dev: namespace taf-dev")]),t._v(" "),e("p",[t._v("http://taf-test.k8s.12345up.com/")]),t._v(" "),e("p",[t._v("admin  Upchina@999")]),t._v(" "),e("h1",{attrs:{id:"基础概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础概念"}},[t._v("#")]),t._v(" 基础概念")]),t._v(" "),e("h2",{attrs:{id:"ip以及端口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip以及端口"}},[t._v("#")]),t._v(" IP以及端口")]),t._v(" "),e("p",[t._v("https://www.jianshu.com/p/7e3646e26fc7")]),t._v(" "),e("h1",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),e("h2",{attrs:{id:"创建应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建应用"}},[t._v("#")]),t._v(" 创建应用")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("#在指定名称空间上部署应用\nkubectl create deployment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("image nginx demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("myns\n\n#查看部署状况\nkubectl describe deployment demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("myns\nkubectl "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" deployments "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("myns\n\n#查看yaml文件\nkubectl "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" pods demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("645c888794"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vzrzq   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("namespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("myns "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o yaml\n\n#创建Service\nkubectl create service nodeport demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("tcp "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("myns\n\n#编辑deployments 的yaml文件\nkubectl edit deployment"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx\n\n#查看svc 信息\nkubectl describe svc  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n myns demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx\n\n#编辑svc\n\nkubectl edit svc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("demo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n myns\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.16")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".9")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".195")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("31111")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),e("h3",{attrs:{id:"查看集群信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看集群信息"}},[t._v("#")]),t._v(" 查看集群信息")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@upchina1:~# kubectl cluster-info\nKubernetes control plane is running at https://lb.kubesphere.local:6443\ncoredns is running at https://lb.kubesphere.local:6443/api/v1/namespaces/kube-system/services/coredns:dns/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n")])])]),e("h3",{attrs:{id:"查看节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看节点"}},[t._v("#")]),t._v(" 查看节点")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("#查看所有节点\nkubectl get nodes\nroot@upchina1:~# kubectl get nodes\nNAME       STATUS   ROLES                         AGE     VERSION\nupchina1   Ready    control-plane,master,worker   2d22h   v1.20.4\nupchina2   Ready    worker                        2d21h   v1.20.4\nupchina3   Ready    worker                        2d21h   v1.20.4\n\n#查看某个节点的信息\nkubectl describe node upchina1\n")])])]),e("h3",{attrs:{id:"查看pod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看pod"}},[t._v("#")]),t._v(" 查看POD")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("#查看所有命令空间\nkubectl get ns\n\n#查看所有名称空间内的资源\nkubectl get pods --all-namespaces\n\n#查看命名空间得pods\nkubectl get pods --namespace=myns \n\n#进入Pod\nkubectl exec demo-nginx-645c888794-vzrzq -n myns -it /bin/bash \n\n\n#进入pod中指定得容器\nkubectl exec -it chi-demo-cluster-name-0-0-0  -c clickhouse -- /bin/bash\n")])])]),e("h3",{attrs:{id:"查看service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看service"}},[t._v("#")]),t._v(" 查看Service")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("root@upchina1:~# kubectl get service\nNAME                             TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                         AGE\nchi-demo-cluster-name-0-0        ClusterIP      None            <none>        8123/TCP,9000/TCP,9009/TCP      2d20h\nchi-demo-cluster-name-0-1        ClusterIP      None            <none>        8123/TCP,9000/TCP,9009/TCP      2d20h\nchi-demo-cluster-name-1-0        ClusterIP      None            <none>        8123/TCP,9000/TCP,9009/TCP      2d20h\n\n#创建service\nkubectl create service nodeport nginx --tcp 80:80 \n\n#删除service\nkubectl delete service nginx \n")])])]),e("h3",{attrs:{id:"端口转发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#端口转发"}},[t._v("#")]),t._v(" 端口转发")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(" kubectl port-forward demo-nginx-645c888794-vzrzq 80:8888  --namespace=myns\n")])])]),e("h3",{attrs:{id:"磁盘映射"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘映射"}},[t._v("#")]),t._v(" 磁盘映射")]),t._v(" "),e("h1",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),e("h2",{attrs:{id:"证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#证书"}},[t._v("#")]),t._v(" 证书")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://blog.csdn.net/zuolinux/article/details/108671941\n\nwget -O Makefile https://raw.githubusercontent.com/kubernetes/examples/master/staging/https-nginx/Makefile\n\n make keys KEY=/tmp/nginx.key CERT=/tmp/nginx.crt \n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);